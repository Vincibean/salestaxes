CREATE TABLE FEE (
	ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
	NAME VARCHAR(255) NOT NULL,
	DESCRIPTION VARCHAR(255) NOT NULL,
	PRIMARY KEY (ID),
	FEE_VALUE decimal(5,2) NOT NULL CHECK (FEE_VALUE >= -100 AND FEE_VALUE <= 100)
);
	
CREATE TABLE CATEGORY (
	ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
	NAME VARCHAR(255) NOT NULL,
	DESCRIPTION VARCHAR(255) NOT NULL,
	FEE BIGINT,
	PRIMARY KEY (ID),
	FOREIGN KEY (FEE) REFERENCES FEE(ID)
);

CREATE TABLE FEE_CATEGORY (
    FEE_ID BIGINT REFERENCES FEE (ID),
    CATEGORY_ID BIGINT REFERENCES CATEGORY (ID),
    PRIMARY KEY (FEE_ID, CATEGORY_ID)
);

CREATE TABLE POIUYT (
	ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
	NAME VARCHAR(255) NOT NULL,
	DESCRIPTION VARCHAR(255) NOT NULL,
	CATEGORY_ID BIGINT,
	PRIMARY KEY (ID),
	FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY(ID)
);


CREATE TABLE CATEGORY_POIUYT (
    CATEGORY_ID BIGINT REFERENCES CATEGORY (ID),
    POIUYT_ID BIGINT REFERENCES POIUYT (ID),
    PRIMARY KEY (CATEGORY_ID, POIUYT_ID)
);